@model IEnumerable<WebAppsProsjekt1.Models.FlashCard>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width"/>
    <link rel="stylesheet" asp-href-include="~/css/createCard.css">
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <title>FlashCards</title>
    
    <script>
        function clickSpinner(id) {
            if (id.includes("backside")) {
                document.getElementById(id).style.transform = "rotateY(360deg)";
                document.getElementById(id).id = id.replace("backside", "");
            } else {
                document.getElementById(id).style.transform = "rotateY(180deg)";
                document.getElementById(id).id = id+"backside";
            }
        }
        
        let cardArray;
        
        $.ajax({
            url: "/GetCards",
            method: "GET",
            success: function (cards) {
                document.querySelector(".carousel-inner").innerHTML = makeSlides(cards);
            },
            error: function (error) {
                console.log(error)
            }
        });
        
       const makeSlides = (cards) => {
           let html = '';
           cards.forEach((item, index) => {
               let activeClass = index === 0 ? 'active' : '';
               
               html += '<div class="carousel-item ' + activeClass + '">';
               html += '<div class="container" style="max-width: 600px">';
               html += '<div class="container pt-3 bg-light" style="display: flex; justify-content: center">';
               html += '<div class="flippable">';
               html += '<div class="flip-card-inner" id="' + item.flashcardId + '" onclick="clickSpinner(this.id)">';
               html += '<div class="flip-card-frontside">';
               html += '<h3 id="FrontSpinText">' + item.frontText + '</h3>';
               html += '<img src=""></img>';
               html += '<div id="frontSidePreview"></div>';
               html += '</div>';
               html += '<div class="flip-card-backside">';
               html += '<h3 id="BackSpinText">' + item.backText + '</h3>';
               html += '<img src=""></img>';
               html += '<div id="backSidePreview"></div>';
               html += '</div>';
               html += '</div>';
               html += '</div>'; 
               html += '</div>'; 
               html += '</div>';  
               html += '</div>'; 
           });
           return html;
       };
        </script>
</head>
<body>

<div id="carouselExample" class="carousel slide">
    <div class="carousel-inner">
    </div>
  <button style="background-color: red" class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button style="background-color: red" class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

</body>
</html>
